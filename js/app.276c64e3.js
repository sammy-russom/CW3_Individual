(function(){"use strict";var t={4931:function(t,e,i){var r=i(9242),a=i(3396),n=i(7139);const s=(0,a._)("link",{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet"},null,-1),c={key:0},o=(0,a._)("i",{class:"bx bx-cart"},null,-1),l={key:1,disabled:"disabled"},u=(0,a._)("i",{class:"bx bx-cart"},null,-1),d={key:1},h=(0,a._)("i",{class:"bx bx-left-arrow-alt"},null,-1);function p(t,e,i,r,p,_){return(0,a.wg)(),(0,a.iD)(a.HY,null,[s,(0,a._)("header",null,[(0,a._)("h1",null,(0,n.zw)(p.sitename),1),p.showSubjects?((0,a.wg)(),(0,a.iD)("div",c,[_.canRemoveFromCart?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>_.cycle&&_.cycle(...t))},[(0,a.Uk)((0,n.zw)(_.cartItemCount)+" ",1),o,(0,a.Uk)(" Checkout ")])):((0,a.wg)(),(0,a.iD)("button",l,[(0,a.Uk)((0,n.zw)(_.cartItemCount)+" ",1),u]))])):((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("button",{onClick:e[1]||(e[1]=(...t)=>_.cycle&&_.cycle(...t))},[h,(0,a.Uk)(" Back ")])]))]),(0,a._)("main",null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(p.currView),{subjects:p.subjects,cart:p.cart,onAddCart:_.HandleAddToCart,onRemoveCart:_.HandleRemoveFromCart,onSubmitCart:_.HandleSubmitCart},null,40,["subjects","cart","onAddCart","onRemoveCart","onSubmitCart"]))])],64)}i(7658);const _={id:"subject_page",class:"display-flex-col width-height"},m=(0,a._)("h2",null,"Subjects page",-1),b={id:"container",class:"display-flex-row width-height"},f={id:"filters",class:"display-flex-col"},v=(0,a._)("h3",null,"Sort By",-1),g={id:"sort_by"},y={class:"radio_container"},w=(0,a._)("label",{for:"sort_radio"},"Subject",-1),C={class:"radio_container"},k=(0,a._)("label",{for:"sort_radio"},"Location",-1),j={class:"radio_container"},S=(0,a._)("label",{for:"sort_radio"},"Price",-1),x={class:"radio_container"},D=(0,a._)("label",{for:"sort_radio"},"Availability",-1),O=(0,a._)("h3",null,"Order",-1),A={id:"order_by"},z={class:"radio_container"},I=(0,a._)("label",{for:"order_radio"},"Ascending",-1),F={class:"radio_container"},H=(0,a._)("label",{for:"order_radio"},"Descending",-1),T={id:"subjects_container",class:"display-flex-col width-height"},V={id:"search"},$=(0,a._)("label",{for:"search"},"Search: ",-1),L={id:"subjects"},P={style:{width:"100%",display:"inline-flex","align-items":"center"}},R={class:"info_container"},U=["src"],N=["onClick"],J={key:1,disabled:""};function Z(t,e,i,s,c,o){return(0,a.wg)(),(0,a.iD)("section",_,[m,(0,a._)("div",b,[(0,a._)("div",f,[v,(0,a._)("div",g,[(0,a._)("div",y,[(0,a._)("input",{name:"sort_radio",type:"radio",onClick:e[0]||(e[0]=t=>o.changeCriteria("lesson")),checked:""}),w]),(0,a._)("div",C,[(0,a._)("input",{name:"sort_radio",type:"radio",onClick:e[1]||(e[1]=t=>o.changeCriteria("location"))}),k]),(0,a._)("div",j,[(0,a._)("input",{name:"sort_radio",type:"radio",onClick:e[2]||(e[2]=t=>o.changeCriteria("price"))}),S]),(0,a._)("div",x,[(0,a._)("input",{name:"sort_radio",type:"radio",onClick:e[3]||(e[3]=t=>o.changeCriteria("availability"))}),D])]),O,(0,a._)("div",A,[(0,a._)("div",z,[(0,a._)("input",{name:"order_radio",type:"radio",onClick:e[4]||(e[4]=t=>o.changeOrder("ascending")),checked:""}),I]),(0,a._)("div",F,[(0,a._)("input",{name:"order_radio",onClick:e[5]||(e[5]=t=>o.changeOrder("descending")),type:"radio"}),H])])]),(0,a._)("div",T,[(0,a._)("div",V,[$,(0,a.wy)((0,a._)("input",{name:"search",type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>c.searchInput=t)},null,512),[[r.nr,c.searchInput,void 0,{trim:!0}]])]),(0,a._)("div",L,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.filterItems,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"subject",key:t.id},[(0,a._)("div",P,[(0,a._)("div",R,[(0,a._)("p",null,"Subject: "+(0,n.zw)(t.lesson),1),(0,a._)("p",null,"Location: "+(0,n.zw)(t.location),1),(0,a._)("p",null,"Price: £"+(0,n.zw)(t.price),1),(0,a._)("p",null,"Spaces: "+(0,n.zw)(t.spaces),1)]),(0,a._)("figure",null,[(0,a._)("img",{class:"image",src:t.image},null,8,U)])]),t.spaces>0?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e=>o.addToCart(t)},"Add To Cart",8,N)):((0,a.wg)(),(0,a.iD)("button",J,"Add To Cart"))])))),128))])])])])}var M={name:"LessonComponent",props:{subjects:Array},computed:{filterItems(){return"all"!=this.criteria&"availability"!=this.criteria&"price"!=this.criteria?this.subjects.filter((t=>t[this.criteria].toLowerCase().includes(this.searchInput))).sort(((t,e)=>{switch(this.order){case"ascending":return t[this.criteria]>e[this.criteria]?1:e[this.criteria]>t[this.criteria]?-1:0;case"descending":return t[this.criteria]>e[this.criteria]?-1:e[this.criteria]>t[this.criteria]?1:0}})):"availability"==this.criteria?this.subjects.filter((t=>t["spaces"]>0)):"price"==this.criteria?this.subjects.filter((t=>(t["price"]+"").includes(this.searchInput))).sort(((t,e)=>{switch(this.order){case"ascending":return t[this.criteria]>e[this.criteria]?1:e[this.criteria]>t[this.criteria]?-1:0;case"descending":return t[this.criteria]>e[this.criteria]?-1:e[this.criteria]>t[this.criteria]?1:0}})):this.subjects}},methods:{addToCart(t){this.$emit("add-cart",JSON.stringify(t))},removeFromCart(t){this.$emit("remove-cart",JSON.stringify(t))},submit_cart(){alert("Submitted cart")},checkout(){this.showSubjects=!this.showSubjects},changeCriteria(t){this.criteria=t},changeOrder(t){this.order=t}},data(){return{criteria:"lesson",order:"ascending",searchInput:""}}},Y=i(89);const B=(0,Y.Z)(M,[["render",Z]]);var E=B;const K={id:"cart_page",class:"display-flex-col width-height"},q=(0,a._)("h2",null,"Cart Page",-1),W={id:"cart_container",class:"display-flex-row width-height"},G={id:"Checkout",class:"display-flex-col height"},Q=(0,a._)("h2",null,"Checkout Section",-1),X={class:"display-flex-col"},tt={class:"input_container"},et=(0,a._)("label",{for:"name"},"Name: ",-1),it={class:"input_container"},rt=(0,a._)("label",{for:"phone",pattern:"[A-Za-z]"},"Phone: ",-1),at={id:"subjects_container",class:"display-flex-col width-height"},nt={id:"subjects"},st={style:{width:"100%",display:"inline-flex","align-items":"center"}},ct={class:"info_container"},ot=["src"],lt=["onClick"];function ut(t,e,i,s,c,o){return(0,a.wg)(),(0,a.iD)("section",K,[q,(0,a._)("div",W,[(0,a._)("div",G,[Q,(0,a._)("div",X,[(0,a._)("div",tt,[et,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>c.userData.name=t)},null,512),[[r.nr,c.userData.name,void 0,{trim:!0}]])]),(0,a._)("div",it,[rt,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>c.userData.phone=t)},null,512),[[r.nr,c.userData.phone,void 0,{trim:!0}]])]),o.canCheckout?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[2]||(e[2]=(...t)=>o.submit_cart&&o.submit_cart(...t))},"Submit")):(0,a.kq)("",!0)])]),(0,a._)("div",at,[(0,a._)("div",nt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.cart_array,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"subject",key:t.id},[(0,a._)("div",st,[(0,a._)("div",ct,[(0,a._)("p",null,"Subject: "+(0,n.zw)(t.item.lesson),1),(0,a._)("p",null,"Location: "+(0,n.zw)(t.item.location),1),(0,a._)("p",null,"Price: £"+(0,n.zw)(t.item.price),1)]),(0,a._)("figure",null,[(0,a._)("img",{class:"image",src:t.item.image},null,8,ot)])]),(0,a._)("button",{onClick:e=>o.removeFromCart(t)},"Remove From Cart",8,lt)])))),128))])])])])}var dt={name:"CartComponent",props:{cart:Array},computed:{canCheckout(){return!!(null!=this.userData.phone.match(/^[0-9]+$/)&null!=this.userData.name.match(/^[A-Za-z]+$/))}},methods:{removeFromCart(t){this.$emit("remove-cart",JSON.stringify(t))},submit_cart(){this.$emit("submit-cart")}},data(){return{cart_array:this.cart,userData:{name:"",phone:""}}}};const ht=(0,Y.Z)(dt,[["render",ut]]);var pt=ht,_t={name:"App",created(){this.loadSubjects()},computed:{cartItemCount(){return this.cart.length||"Empty"},canRemoveFromCart(){return this.cart.length>0},getCart(){return this.cart}},watch:{cart(){this.cart}},data(){return{sitename:"Web Academy",currView:E,showSubjects:!0,cart:[],subjects:[]}},methods:{HandleAddToCart(t){if(t=JSON.parse(t),t.spaces>0){for(let i=0;i<this.subjects.length;i++){const e=this.subjects[i];e._id==t._id&&e.spaces--}const e={cart_id:`${t.lesson[0]}-${t.location[0]}-`+Math.ceil(1e4*Math.random()),item:t};this.cart.push(e)}},HandleRemoveFromCart(t){t=JSON.parse(t);for(let e=0;e<this.subjects.length;e++){const i=this.subjects[e];i._id==t.item._id&&i.spaces++}for(let e=0;e<this.cart.length;e++){const i=this.cart[e];if(t.id==i.id){this.cart.splice(e,1);break}}},HandleSubmitCart(){alert("Cart submitted"),this.cart=[],this.cycle()},loadSubjects(){fetch("http://localhost:3000/collection/subjects").then((t=>{t.json().then((t=>{this.subjects=t}))}))},handleOrderSubmitted(){this.cart=[],this.cycle()},cycle(){this.currView["name"]==E["name"]?(this.currView=pt,this.showSubjects=!1):(this.currView=E,this.showSubjects=!0)}}};const mt=(0,Y.Z)(_t,[["render",p]]);var bt=mt;(0,r.ri)(bt).mount("#app")}},e={};function i(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,r,a,n){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],n=t[u][2];for(var c=!0,o=0;o<r.length;o++)(!1&n||s>=n)&&Object.keys(i.O).every((function(t){return i.O[t](r[o])}))?r.splice(o--,1):(c=!1,n<s&&(s=n));if(c){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,s=r[0],c=r[1],o=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(a in c)i.o(c,a)&&(i.m[a]=c[a]);if(o)var u=o(i)}for(e&&e(r);l<s.length;l++)n=s[l],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},r=self["webpackChunkapp"]=self["webpackChunkapp"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(4931)}));r=i.O(r)})();
//# sourceMappingURL=app.276c64e3.js.map